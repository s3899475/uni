Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2023-08-25T18:25:17+10:00

====== Week 5 ======

===== Part 1 - Intro to Angle Modulation (FM and PM) =====
uses variations in carrier phase (or frequency) to encode a baseband information signal
angle = phase shift of a signal
	use polar coordinates
	phase shift between 2 signals = the angle between them on the polar plane
Still involves just a message m(t) and a carrier c(t)

general form
{{./equation.png?type=equation}}
ω_{c} = 2πf_{c}
=== Instantaneous Frequency of a cosine ===
find f_{i}(t)!
for
{{./equation001.png?type=equation}}
instantaneous frequency:
{{./equation002.png?type=equation}}
derivative of angle function with respect to t

==== Phase Modulation (PM) ====
The modulating phase θ(t) is directly proportional to the modulating signal (message) as follows:
{{./equation003.png?type=equation}}
K_{p} = constant **phase sensitivity** of the phase modulator
	unit = rad/volt
{{./pasted_image.png}}
frequency changes depending on the gradient of the message
positive = moves phase back constantly, squishes it together
negative = moves phase forward constantly, spreads it apart


==== Frequency Modulation (FM) ====
θ(t) is directly proportional to the integral of the modulating signal (message) as follows:
{{./equation004.png?type=equation}}
K_{ω} = constant **frequency sensitivity** of the frequency modulator
	unit = (rad/sec)/volt
{{./pasted_image001.png}}
frequency changes depending on the amplitude of the message

=== Example ===
K_{ω} = 2π, f_{c} = 10 Hz
{{./pasted_image002.png}}

===== Part 2 - Characteristics of Angle Modulated Signals =====
==== Frequency Deviation ====
Δ_{ω} - the amount of possible 'swing' from the carrier centre frequency in an angle modulated signal
usually needs to be within a certain range - limit bandwidth usage
Dependent on the maximum/minimum amplitudes of a message and the frequency sensitivity of the angle modulator, K_{ω}
=== FM peak frequency deviation ===
{{./equation005.png?type=equation}}
divide by 2π to get it in Hz

=== PM peak frequency deviation ===
{{./equation006.png?type=equation}}
m'(t)_{max} = the maximum value of the first derivative of the message

==== Bandwidth of Angle Modulated Signals ====
frequency deviation will also impact on the bandwidth of angle modulated signals
large Δ_{ω} implies more frequency components make up the modulated signal, hence greater bandwidth usage

=== Carson's rule ===
approximate bandwidth of an angle modulated signal
{{./equation007.png?type=equation}}
B = bandwidth (single sided baseband) of m(t) in Hz
W contains nearly 98% of the total signal power

==== Modulation Index ====
increase = increases bandwidth
if it is too high (overmodulation), positive and negative frequencies will start to overlap
=== FM Modulation Index ===
{{./equation008.png?type=equation}}
This allows Carson's rule to be expressed in terms of β:
{{./equation009.png?type=equation}}

=== PM Modulation Index ===
{{./equation010.png?type=equation}}

==== Tone-Modulated Signals ====
what we will do in lab
modulating a sinusoid, or tone
{{./equation011.png?type=equation}}
m(t)_{max} = A_{m} and B = ω_{m} / 2π Hz
{{./pasted_image003.png}}
will just plug m(t) into VCO on TIMS, m(t) may be inverted

=== General Form ===
{{./equation012.png?type=equation}}
periodic, period = modulating signal's period
so it can be represented by the Fourier series as follows:
{{./equation014.png?type=equation}}
where J_{k}(β) is the k^{th} - order Bessel function of the first kind with argument β
{{./pasted_image004.png}}
Bessel Functions

=== Instantaneous frequency ===
{{./equation013.png?type=equation}}

=== Signal Power ===
{{./equation015.png?type=equation}}

=== Bandwidth of Tone-Modulated FM ===
The bandwidth is theoretically infinite but practically we consider the **effective bandwidth** (where the majority of signal energy resides)

For small values of the modulation index (β < 0.2), the Bessel functions are all negligible except J_{0}(β) and J_{1}(β)
	hence the bandwidth is W ≈ 2f_{m}. This is called **Narrowband FM (NBFM)**
	If β is not small, we have **Wideband FM (WBFM)**. The bandwidth is:
		{{./equation016.png?type=equation}}

Generally (i.e. for all β and modulating signals), W ≈ 2(1+β)B
Shown above - for any signal. Probably don't use when it is a tone-modulated signal

=== Estimation of modulation index ===
J0 → carrier spike
J1 → first spike
J2 → 2nd spike
and so on

use the ratio between the values (i.e. carrier is 2/3 of height, 1st spike is 1/3 height) to estimate the x value on the graph of bessel functions. Use the **magnitude** of them
{{./pasted_image005.png}}

As β increases, more spikes will appear on the frequency spectrum

===== Part 3 - FM Modulation =====
==== FM Generation Methods ====
=== Direct Generation ===
also called the **direct method**
simplest method
uses voltage controlled oscillators (VCOs)
{{./pasted_image006.png}}
VCOs are notoriously unstable and need extra circuitry to produce a stable oscillator frequency

=== Indirect Generation ===
also called the **indirect method**
Much more complicated
Involves modifying a DSB/SC AM signal with frequency multipliers and converters to produce an FM signal
== steps (generally) ==
* message is first integrated
* a DSB/SC modulated signal is produced from the integrated message signal
* Adding a 90° phase shifted carrier to this produces an approximate **narrowband FM (NBFM)** signal
* Finally frequency multipliers and frequency converters are used to increase both the carrier frequency and the frequency deviations of the FM signal to produce a **wideband FM (WBFM)** signal
== to generate a PM signal, just do the same without integrating the message ==

Properties:
* Indirect method has a much greater frequency stability than the direct method
* But the indirect method can cause a signal to become noisy due to excessive multiplication processes
* It can also suffer from distortion at lower modulating frequencies when the frequency deviation, Δf can become too large (positive and negative will overlap → overmodulation)


==== Armstrong FM Modulator ====
an indirect method to generate FM signals
{{./pasted_image007.png}}
Achieves frequency multiplication using non-linear devices followed by a band-pass filter
e.g. a device with the response y(t) = ax^{2}(t) would be capable of doubling both the incoming frequency of the signal, f_{c} as well as the frequency deviation, Δf.

=== Frequency Multiplication (Frequency Converter) ===
squaring an FM signal will double the frequency and double the frequency sensitivity
{{./equation017.png?type=equation}}
{{./pasted_image008.png}}

=== Frequency Mixing (Multiplier) ===
Basically the same as AM
{{./equation018.png?type=equation}}
use band pass filter to only get one term
Does not change frequency deviation or frequency sensitivity


==== FM Demodulation ====
=== Envelope Demodulator ===
Uses a differentiator (shown below) followed by an envelope detector (AM demodulator)
{{./pasted_image009.png}}
{{./equation019.png?type=equation}}
Basically y'(t) is just an AM signal!
Still FM - frequency changes, but now also AM - has an envelope
== Output: ==
{{./equation020.png?type=equation}}


=== Phase Locked Loop (PLL) Demodulator ===
the PLL is a feedback system that arranges its phase to be equal to (or at a constant phase difference with) the phase of the incoming signal.
As a result, its frequency will be equal to the incoming frequency
This process, called locking, normally takes a number of cycles before settling
{{./pasted_image010.png}}
PED - error detector (multiplier). Should look like below (e(t))
{{./pasted_image011.png}}
Low frequency spike is the message
For PM or FM the cutoff frequency of the LPF should be equal to the message bandwidth B, or slightly greater

=== Zero-crossing Demodulator ===
Uses a comparator to create an FM square wave and a mono-stable pulse generator that outputs narrow pulses on each positive going edge of the FM square wave.
{{./pasted_image012.png}}
sq.FM = hard-limiter (comparator)
p(t) = monostable pulse generator (twin pulse generator that has a mono pulse output)

Comparator compares the FM signal with 0 - if above 0 sets it to some value (e.g. 1) if below sets it to another (e.g. -1)
Monostable detector detects **either** the **rising edge** or **falling edge** of the comparator signal (rising edge above)\
	bistable detector would detect both rise and fall

After this, the pulse train p(t) contains the message information which can be time-averaged using a LPF (with cutoff f_{c} = B) giving the output:
{{./equation021.png?type=equation}}
width of the pulses, τ will effect the message. V_{0} is the voltage of the monostable output (1V in this case)
DC offset (1st term) also effected by τ, V_{0} and the frequency of the carrier

==== FM Radio Broadcast ====
In Australia
=== Comparison of AM and FM ===
Commercial AM radio
* Frequency range – 522-1611 kHz
* Carrier range – 531-1602 kHz
* Separation of 9 kHz between carriers

Commercial FM radio
* Frequency range – 88-108 MHz
* Carrier separation – 200 kHz
* Maximum frequency deviation 75 kHz

TV Broadcasting (analogue, obsolete)
* bandwidth 6 MHz for each channel
* audio transmitted using FM
* video transmitted using AM (most bandwidth used by video signal)
* TV carriers were in the VHF (54 to 216 MHz) or in the UHF (470 to ~805 MHz) frequency bands

FM consumes more bandwidth and needs more complicated equipment than AM
FM has better performance as it is less sensitive to AWGN encountered in practical communication systems
	noise will add mostly to amplitude
	in AM message is on the amplitude, so it is effected more by noise

AM cannot improve SNR over SNR_{b}
In FM we can improve SNR by increasing the modulation index

FM requires less radiated power than commercial AM:
* Tone-modulated FM: P = A_{c}^{2}/2
* Tone modulated DSB AM: P = A_{c}^{2}/2 + βA_{c}^{2}A_{m}^{2}/4


=== FM Stereo Audio ===
AM radio stations are allocated just enough bandwidth to transmit a single audio channel (9kHz between adjacent carriers)
	There is a technique called C-QUAM, is part of Aus standard (but rarely used), used in other countries that allows stereo audio

FM stations are allocated 200kHz bandwidth which can be used to transmit multiple audio channels plus other information (e.g. metadata, radio station text messages)

How do we make the stereo audio compatible with mono receivers as well as stereo compatible receivers?
== Transmitting Stereo Audio ==
{{./pasted_image013.png}}
Left and Right channels are added together and left at baseband. This will be what mono receivers receiver.
Then the right channel is subtracted from the left and DSB/SC AM modulated onto a 38 kHz carrier.
Finally, a 19kHz pilot tone is added to aid with synchronisation. Also indicates that stereo audio is available

== Receiving Stereo Audio ==
{{./pasted_image014.png}}


===== Lab 2p3 =====
B1 = 4.5 kHz single sided baseband
B2 = 3.5 kHz single sided baseband

Double sided bandwidth = 2 * base bandwidth
Source 1: B = 2*4.5 = 9kHz
Source 1: B = 2*3.5 = 7kHz

theoretically gap must be larger than 4.5kHz + 3.5kHz = 8kHz
So the signals must be at least 9kHz appart, accounting for some variance in the message and carrier signal frequencies

carrier signal = 65 kHz to 150 kHz

**DSB/SC AM Signals**
f_{c1} = 80 kHz
so, freq of signal 1 will be 80 ± 4.5
f_{c2} = 120 kHz
freq of signal 2 will be 120 ± 3.5
